os:
  - linux
  - osx
language: 
  - cpp
compiler:
  - gcc
env:
  matrix:
    - IOS_ANDROID=false
    - IOS_ANDROID=true
  global:
    #The secure string is specific to a single repository and needs to be generated for each user/project
    secure: awuC9Zp0wPHPJkIs7mQKF1rxWLLM2bLm7EtCzl6NOYVB+ez+LyONaiWRxxFXivWjWYO3m1iWGZlzY2x+irvY1aHAxa4Ohd70/bb1cz3TDSEkLJM4HfduoRXP7CCIx/q6cqMScX6DD2UHVYjqtpbuMwuQR+tLbz3vzHx+GNLZw/8=
script:
    # OSX and generic GNU/Linux desktop builds
    - if [[ $TRAVIS_OS_NAME == "linux" && $IOS_ANDROID == false  ]]; then bash build-scripts/linux.sh; fi
    - if [[ $TRAVIS_OS_NAME == "osx" && $IOS_ANDROID == false ]]; then bash build-scripts/osx.sh; fi
  
    # iOS and Android builds
    - if [[ $TRAVIS_OS_NAME == "linux" && $IOS_ANDROID == true  ]]; then bash build-scripts/android.sh; fi
    - if [[ $TRAVIS_OS_NAME == "osx" && $IOS_ANDROID == true ]]; then bash build-scripts/ios.sh; fi
after_success:
    #Permission error workaround
    - chmod a+x ./.update-gh-pages.sh
    - ./.update-gh-pages.sh
